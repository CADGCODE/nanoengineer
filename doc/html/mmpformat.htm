<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/assistant-template.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Assistant-MMP File Format</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
</head>

<body>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr bgcolor="#E5E5E5">
    <td valign=center> <font color="#004faf"><a href="index.htm"target="_top">Home</a></font></td>
    <td align="right" valign="center"><img src="images/ne1logo.jpg" width="251" height="45"></td>
  </tr>
</table>
<!-- InstanceBeginEditable name="EditRegion3" -->
<p>&nbsp;</p>
<H2>MMP file format (Alpha)</H2>
<P>An MMP file consists of a <EM>molecular machine part</EM> (MMP) with a sequence of molecules. The simulator will check for van der Waals interactions between atoms of different molecules, but not within a given molecule. If such interactions are expected within the same molecule, the "waals" record can be used. </P>
<P>The file is a nested tree structure where each node begins with a <B>group </B>record and ends with an <B>egroup</B> record.</P>
<P>Each molecule is a <STRONG>mol</STRONG> record followed by <STRONG>atom</STRONG> and <STRONG>bond</STRONG> records. The bonds must be back-references, i.e. if <EM>atom1</EM> and <EM>atom2</EM> are bonded, <EM>atom1</EM> will have no bond record, while <EM>atom2</EM> will have a record pointing back to <EM>atom1</EM>.</P>
<P>MMP files begin with a <STRONG>Data</STRONG> group containing two <STRONG>csys</STRONG> records (HomeView and LastView), followed by 3 <STRONG>datum</STRONG> plane records (XY, YZ and XZ). The Data group is followed by the "part" group. The part data, including the Data group and the part group(s), is terminated by an <STRONG>end1</STRONG> record. The final section of the MMP file is the <STRONG>Clipboard</STRONG> group that can include cut/paste objects that were on the clipboard when the part was last saved. The final record in the MMP file is the <STRONG>end</STRONG> record. </P>
<H2>Record types</H2>
<P>Note parentheses and commas are required. Braces are metacomments. </P>
<HR>
<P><EM><FONT size=4><STRONG>mol</STRONG> (name</FONT></EM>) <EM><FONT 
size=4>mode </FONT></EM></P>
<P>Begins a new molecule. Applies to all atoms until the next <STRONG>mol</STRONG> record, where:</P>
<UL>
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM><STRONG>name</STRONG></EM> - </STRONG>name of the molecule that appears in the model tree 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>mode</EM></STRONG> - the default display mode for this molecule equals one of:
      <UL>
        <LI>vdw" - van der Waals 
        <LI>"cpk" - ball and stick 
        <LI>"tub" - tube 
        <LI>"lin" - lines 
        <LI>"inv"- invisible 
        <LI>"def" - default (this display mode is determined by the software) </LI>
      </UL>
  </LI>
</UL>
<HR>
<P><FONT size=4><STRONG>atom </STRONG><EM>n (e) (x, y, z) mode</EM></FONT></P>
<P>Creates a new atom, where: </P>
<UL>
  <LI><EM style="MARGIN-BOTTOM: 0in"><B>mode</B> &ndash; the display mode for the atom, same list as above</EM>
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>n</EM></STRONG> - atom number, a unique atom ID 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>e</EM></STRONG> - element number, e.g. carbon = 6 
  <LI><EM><STRONG>x, y, z</STRONG></EM> - the position in 1e-13m </LI>
</UL>
<HR>
<P><FONT size=4><STRONG>bond1 </STRONG><EM>atom1 atom2 ... atom25 {up to 25}</EM></FONT> </P>
<P>Bonds the last-definted atom to the indicated atoms. </P>
<P>Note: The intent in calling this bond record <STRONG>bond1</STRONG> is that we intend to support <STRONG>bond2</STRONG>, <STRONG>bond3</STRONG>, and <STRONG>bond4</STRONG> for <EM>double</EM>, <EM>triple</EM>, and <EM>aromatic</EM> bonds.</P>
<HR>
<P><FONT size=4><STRONG>waals </STRONG><EM>atom1 atom2 ... atom25 {up to 25}</EM></FONT></P>
<P><FONT size=4>I</FONT>ndicates van der Waals interaction to be simulated between indicated and last-defined atoms (NB vdW interactions are automatically simulated between atoms of different molecules) </P>
<HR>
<P><FONT size=4><STRONG>ground </STRONG><EM>(name) (r, g, b) atom1 atom2 ... atom25 {up to 25}</EM></FONT> </P>
<P>Creates a ground object in which atoms are anchored in space, where:</P>
<UL>
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>name</EM></STRONG> - name of the ground 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>r, g, b</EM></STRONG> - red, green, and blue color components, between 0-255 (int) 
  <LI><STRONG><EM>atoms</EM></STRONG> - atoms of mol that are anchored in space </LI>
</UL>
<HR>
<P><FONT size=4><STRONG>lmotor</STRONG> <EM>(name) (r, g, b) force stiffness (cx, cy, cz) (ax, ay, az) lenth width spoke_radius </EM></FONT></P>
<P>Creates a linear motor, where: </P>
<UL>
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>name</EM></STRONG> - name of the motor 
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>r, g, b</STRONG></EM> - red, green, and blue color components, between 0-255 (int) 
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>force</STRONG></EM> - force of motor in nN*nm (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>stiffness</EM></STRONG> - stiffness of motor in N/m (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>cx, cy, cz</EM></STRONG> - center of rotation (same format as atom positions) 
  <LI><STRONG><EM>ax, xy, az</EM></STRONG> - axis of rotation (same format as atom positions) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>length</EM></STRONG> - lenth of the motor in Angstroms (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>width</EM></STRONG> - width of the motor in Angstroms (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>spoke_radius</EM></STRONG> - radius of the spokes of the motor in Angstroms (float) </LI>
</UL>
<P><FONT size=4><STRONG>shaft </STRONG><EM>atom1 atom2 ... atom25 {up to 25}</EM></FONT> </P>
<P>Atoms to which the linear motor is connected (<STRONG>shaft</STRONG> must follow <STRONG>lmotor</STRONG> immediately)</P>
<HR>
<P><FONT size=4><STRONG>rmotor</STRONG> <EM>(name) (r, g, b) torque speed (cx, cy, cz) (ax, ay, az) lenth width spoke_radius </EM></FONT></P>
<P>Creates a rotary motor, where: </P>
<UL>
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>name</STRONG></EM> - name of the motor 
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>r, g, b</STRONG></EM> - red, green, and blue color components, between 0-255 (int) 
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>torque</STRONG></EM> - torque of motor in nN*nm (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>speed</EM></STRONG> - speed of motor in gHz (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>cx, cy, cz</EM></STRONG> - center of rotation (same format as atom positions) 
  <LI><STRONG><EM>ax, xy, az</EM></STRONG> - axis of rotation (same format as atom positions) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>length</EM></STRONG> - lenth of the motor in Angstroms (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>radius</EM></STRONG> - radius of the motor in Angstroms (float) 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>spoke_radius</EM></STRONG> - radius of the spokes of the motor in Angstroms (float) </LI>
</UL>
<P><FONT size=4><STRONG>shaft </STRONG><EM>atom1 atom2 ... atom25 {up to 25}</EM></FONT> </P>
<P>Atoms to which the rotary motor is connected (<STRONG>shaft</STRONG> must follow <STRONG>rmotor</STRONG> immediately)</P>
<HR>
<P><FONT size=4><STRONG>kelvin </STRONG><EM>n</EM></FONT></P>
<P>The temperature of the part, where:</P>
<UL>
  <LI>
    <P><STRONG><EM>n</EM></STRONG> - the temperature in kelvins (int) </P>
  </LI>
</UL>
<HR>
<P><FONT size=4><STRONG>csys</STRONG> <EM>(name) (w, x, y, z) (scale)<SPAN 
class=MsoNormal> (pov_x, pov_y, pov_z) (zoomFactor)<O:P></O:P><FONT 
size=2><O:P></O:P></FONT></SPAN></EM></FONT></P>
<P>The coordsystem record, which contains default views for the part, where:</P>
<UL>
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>name</STRONG></EM> - the name of the csys object that appears in the model tree 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>w, x, y, z </EM></STRONG>- quaternion for the default orientation for the view (float). (No rotation = 1.0, 0.0, 0.0, 0.0) 
  <LI><EM><STRONG>zoom</STRONG></EM> - default zoom for home view (float). 
  <LI><SPAN class=MsoNormal><STRONG><EM>scale</EM></STRONG> &ndash; used for setting view distance, etc. (float) </SPAN>
  <LI><SPAN class=MsoNormal><STRONG><EM>pov_x, pov_y, pov_z</EM></STRONG> &ndash; view center (float)<O:P></O:P></SPAN>
  <LI><SPAN class=MsoNormal><STRONG><EM>zoomFactor</EM></STRONG> - used for window zoom (float) <O:P></O:P><O:P></O:P></SPAN></LI>
</UL>
<P>There are currently two csys records per part (file), the &ldquo;HomeView&rdquo; and &ldquo;LastView&rdquo;.<O:P></O:P></P>
<HR>
<P><FONT size=4><STRONG>datum</STRONG> <EM>(name) <EM><FONT size=4>(r, g, b) </FONT></EM>type (x1, y1, z1) (x2, y2, z2) (x3, y3, z3)</EM></FONT></P>
<P><EM>Creates a datum (point, line or plane) object, where:</EM></P>
<UL>
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>name</EM></STRONG> - the name of the datum object that appears in the model tree 
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>type - </STRONG></EM>one of "point", "line" or "plane"
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>x1, y1, z1 &ndash;</EM></STRONG> center point for object 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>x2, y2, z2 &ndash;</EM></STRONG> direction vector for line and normal for plane 
  <LI><STRONG><EM>x3, y3, z3</EM></STRONG> &ndash; orientation vector for lines and planes </LI>
</UL>
<P>All three points are given for each datum type. Although datum plane records are currently written in every MMP file, they have not been implemented for Alpha. </P>
<HR>
<P><FONT size=4><STRONG>group</STRONG> <EM>(name)</EM></FONT></P>
<P><B><FONT size=4>egroup</FONT></B> <I><FONT size=4>(name)</FONT></I></P>
<P>Creates/begins (group) and ends (egroup) a group object, where: </P>
<UL>
  <LI>
    <P style="MARGIN-BOTTOM: 0in"><EM><STRONG>name</STRONG></EM> - the group name that appears in the model tree </P>
  </LI>
</UL>
<P style="MARGIN-BOTTOM: 0in">These records enclose a list of other objects or groups. The names should match for checking purposes but do not have to be unique.</P>
<HR>
<P><FONT size=4><STRONG>stat </STRONG><EM>(name) (r, g, b) (temp) first_atom last_atom box_atom</EM></FONT></P>
<P>Specifies a Langevin thermostat jig that specifies and maintains the temperature of a molecule during a simulation, where:</P>
<UL>
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>name</STRONG></EM> - name of the thermostat 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>r, g, b</EM></STRONG> - red, green, and blue color components, between 0-255 (int) 
  <LI><EM style="MARGIN-BOTTOM: 0in">t<B>emp</B> &ndash; </EM>temperature the Langevin thermostat maintains, integer, in kelvins 
  <LI><STRONG><EM>first_atom</EM></STRONG> - the first atom of the molecule to which it is attached. 
  <LI><EM><STRONG>last_atom</STRONG></EM> - the last atom of the molecule to which it is attached. 
  <LI><EM><STRONG>boxed_atom</STRONG></EM> - the atom in the molecule the user selected. A blue wire-frame box is draw around this atom. </LI>
</UL>
<HR>
<P style="MARGIN-BOTTOM: 0in"><FONT size=4><STRONG>thermo </STRONG><EM>(name) (r, g, b) </EM></FONT><FONT size=4><EM>first_atom last_atom box_atom</EM></FONT></P>
<P>Creates a thermometer jig that measures the temperature of a molecule during a simulation, where:</P>
<UL>
  <LI><EM style="MARGIN-BOTTOM: 0in"><STRONG>name</STRONG></EM> - name of the thermometer 
  <LI><STRONG style="MARGIN-BOTTOM: 0in"><EM>r, g, b</EM></STRONG> - red, green, and blue color components, between 0-255 (int) 
  <LI><STRONG><EM>first_atom</EM></STRONG> - the first atom of the molecule to which it is attached. 
  <LI><EM><STRONG>last_atom</STRONG></EM> - the last atom of the molecule to which it is attached. 
  <LI><EM><STRONG>boxed_atom</STRONG></EM> - the atom in the molecule the user selected. A dark red wire-frame box is draw around this atom. </LI>
</UL>
<HR>
<P><STRONG><FONT size=4>end1</FONT></STRONG></P>
<P>Logical end of file for simulator; objects that follow are clipboard objects. </P>
<HR>
<P><STRONG><FONT size=4>end </FONT></STRONG></P>
<P>Logical end of file </P>
<H1>&nbsp;</H1>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<!-- InstanceEndEditable -->
<p>&nbsp;</p>
<table width=100% border=0 cellspacing=0>
  <tr>
    <td width="35%">Copyright &copy; 2004 <a href="http://www.nanorex.com"target="_top">Nanorex, Inc.</a>
    <td width="27%" align=center>Trademarks
    <td width="38%" align=right><div align=right>nanoENGINEER-1 Version 1.0 (Alpha)</div>
</table>
<p>&nbsp;</p>
</body>
<!-- InstanceEnd --></html>
